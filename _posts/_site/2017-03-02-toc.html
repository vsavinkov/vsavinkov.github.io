<p>这个页面用于展示toc的效果，请使用pc或者平板设备插看。（暂不支持home文章显示toc）</p>

<h1 id="jekyll-theme-materialize">jekyll-theme-materialize</h1>

<p><img src="https://ooo.0o0.ooo/2017/03/15/58c9345cdcfdf.png" alt="" /></p>

<p><a href="https://travis-ci.org/KeJunMao/jekyll-theme-materialize"><img src="https://travis-ci.org/KeJunMao/jekyll-theme-materialize.svg?branch=master" alt="Build Status" /></a></p>

<p><a href="https://badge.fury.io/rb/jekyll-theme-materialize"><img src="https://badge.fury.io/rb/jekyll-theme-materialize.svg" alt="jekyll-theme-materialize Version" /></a></p>

<h2 id="预览">预览</h2>

<p><a href="http://kejun.coding.me/jekyll-theme-materialize/">coding page（中国）</a>
<a href="https://kejunmao.github.io/jekyll-theme-materialize/">github page</a></p>

<h2 id="安装">安装</h2>

<p>有两种安装方法，一种是gem安装，另一种是<code class="highlighter-rouge">git clone</code>。</p>

<blockquote>
  <p>建议您使用git clone的方法安装。</p>
</blockquote>

<h3 id="使用gem">使用gem</h3>

<p>若使用gem，您需要手动新建一些文件，和文件夹，如<code class="highlighter-rouge">links.md</code>、<code class="highlighter-rouge">_data</code>等</p>

<p>添加下行到你 Jekyll 的 <code class="highlighter-rouge">Gemfile</code>文件中:</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="c1">#安装主题</span>
<span class="n">gem</span> <span class="s2">"jekyll-theme-materialize"</span>
</code></pre>
</div>

<p>添加下行到你 Jekyll 的<code class="highlighter-rouge">_config.yml</code>文件中 :</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="c1">#启用主题</span>
<span class="s">theme</span><span class="pi">:</span> <span class="s">jekyll-theme-materialize</span>
</code></pre>
</div>
<p>然后执行:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle
</code></pre>
</div>

<p>或手动执行:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ gem install jekyll-theme-materialize
</code></pre>
</div>

<h3 id="使用git">使用git</h3>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>git clone https://github.com/KeJunMao/jekyll-theme-materialize.git
<span class="gp">$ </span><span class="nb">cd </span>jekyll-theme-materialize
<span class="gp">$ </span>bundle install
<span class="gp">$ </span>bundle <span class="nb">exec </span>jekyll s -w
</code></pre>
</div>
<h2 id="更新">更新</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bundle
</code></pre>
</div>

<h2 id="用法">用法</h2>

<p>下面的内容能极大的帮助你使用本主题，请务必仔细阅读。</p>

<h3 id="config">config</h3>

<p>将如下内容添加到你Jekyll 的<code class="highlighter-rouge">_config.yml</code>文件中，请注意替换为你自己的信息：</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">title</span><span class="pi">:</span> <span class="s">KeJun | BLOG</span>
<span class="s">email</span><span class="pi">:</span> <span class="s">kejun1997@gmail.com</span>
<span class="s">description</span><span class="pi">:</span> <span class="s">二次元智障</span>
<span class="s">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://blog.kejun.tk/"</span> 

<span class="c1"># icon</span>
<span class="s">icon-16x16</span><span class="pi">:</span> <span class="s">images/icon/favicon-16x16.ico</span>
<span class="s">icon-32x32</span><span class="pi">:</span> <span class="s">images/icon/favicon-32x32.ico</span>

<span class="c1"># theme color</span>
<span class="s">theme-color</span><span class="pi">:</span> <span class="pi">{</span> 
  <span class="nv">default-color</span><span class="pi">:</span> <span class="nv">green</span><span class="pi">,</span> 
  <span class="nv">home-color</span><span class="pi">:</span> <span class="nv">green</span><span class="pi">,</span>
  <span class="nv">about-color</span><span class="pi">:</span> <span class="nv">red</span><span class="pi">,</span>
  <span class="nv">archive-color</span><span class="pi">:</span> <span class="nv">pink</span><span class="pi">,</span>
  <span class="nv">links-color</span><span class="pi">:</span> <span class="nv">purple</span><span class="pi">,</span>
  <span class="nv">tags-color</span><span class="pi">:</span> <span class="nv">blue</span>
<span class="pi">}</span> 

<span class="c1"># mobile nav</span>
<span class="s">mobile-hp</span><span class="pi">:</span> <span class="s">/images/tx.jpg</span>       <span class="c1"># 头像</span>
<span class="s">mobile-bg</span><span class="pi">:</span> <span class="s">/images/userbg.png</span>   <span class="c1"># 背景,若填写theme则使用主题色。</span>

<span class="c1"># header 背景图片</span>
<span class="s">header-bg</span><span class="pi">:</span> <span class="s">/assets/images/bg.png</span>

<span class="c1"># disqus</span>
<span class="s">disqus-shortname</span><span class="pi">:</span> <span class="s">blog-kejun-tk</span> <span class="c1">#disqus shortname</span>

<span class="c1"># cdn</span>
<span class="s">cdnurl</span><span class="pi">:</span> <span class="s">https://cdnurl.com/</span> <span class="c1">#cdn</span>

<span class="c1">#google_analytics</span>
<span class="s">google_analytics</span><span class="pi">:</span>
<span class="c1">#多个作者</span>
<span class="s">defaultAuthor</span><span class="pi">:</span> <span class="s">KeJun</span> <span class="c1">#默认作者</span>
<span class="s">defaultAuthorImage</span><span class="pi">:</span> <span class="s">assets/images/tx.jpg</span> <span class="c1">#默认作者头像</span>
<span class="s">manyAuthors</span><span class="pi">:</span> <span class="s">false</span>
</code></pre>
</div>

<h3 id="post">post</h3>

<p>每一个新的文章均需要添加如下yaml:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">post</span>        <span class="c1"># 指定模板</span>
<span class="s">categories</span><span class="pi">:</span> <span class="s">NoImage</span> <span class="c1"># 分类，首页显示,该项经常用于检测是否为post。请注意，每个文章仅支持一个分类。</span>
<span class="s">image</span><span class="pi">:</span>              <span class="c1"># 图像，用于首页，若留空将以NoImage的形式显示, 暂不支持跨域图像。</span>
<span class="s">tags</span><span class="pi">:</span> <span class="s">jekyll ubuntu</span> <span class="c1"># 标签，用于tags页面，允许多个</span>
<span class="s">toc</span><span class="pi">:</span> <span class="err">*</span>              <span class="c1"># 确定是否显示toc目录，默认为不显示。</span>
<span class="s">comments</span><span class="pi">:</span> <span class="s">true</span>      <span class="c1"># 是否显示评论</span>
<span class="s">author</span><span class="pi">:</span>             <span class="c1"># 若指定作者名，请开启多作者功能，否则将以默认作者显示。</span>
<span class="nn">---</span>
</code></pre>
</div>
<h3 id="otherpage">otherPage</h3>

<p>请注意jekyll根目录下的<code class="highlighter-rouge">.md</code>文件的<code class="highlighter-rouge">layout</code>与<code class="highlighter-rouge">_layout</code>文件下的文件对应.如：</p>

<ul>
  <li><code class="highlighter-rouge">index.md</code></li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">index</span>
<span class="nn">---</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">links.md</code></li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">links</span>
<span class="nn">---</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">tags.md</code></li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">tags</span>
<span class="nn">---</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">about.md</code></li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">about</span>
<span class="nn">---</span>
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">archive.md</code></li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">archive</span>
<span class="nn">---</span>
</code></pre>
</div>

<h3 id="addpage">addPage</h3>

<p>如需新增page，建议按：</p>

<ul>
  <li>根目录新建 <code class="highlighter-rouge">pageName.md</code>,并在头信息中键入如下：</li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span>
<span class="s">title</span><span class="pi">:</span> <span class="s">pageName</span>         <span class="c1"># 标题</span>
<span class="s">layout</span><span class="pi">:</span> <span class="s">pageName</span>        <span class="c1"># 模板,建议为标题或文件名，若以文章形式输出，layout 填写 about 并编辑该.md文件即可，无需下一步 。</span>
<span class="s">describe</span><span class="pi">:</span> <span class="s">pageName</span>      <span class="c1"># 描述</span>
<span class="s">toc</span><span class="pi">:</span> <span class="err">*</span>                  <span class="c1"># 确定是否显示toc目录。</span>
<span class="s">comments</span><span class="pi">:</span> <span class="s">true</span>          <span class="c1"># 是否显示评论</span>
<span class="nn">---</span>
</code></pre>
</div>

<ul>
  <li>在<code class="highlighter-rouge">_layout</code>目录下新建<code class="highlighter-rouge">pageName.html</code>，并键入如下：</li>
</ul>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="nn">---</span> 
<span class="s">layout</span><span class="pi">:</span> <span class="s">default</span> 
<span class="nn">---</span>
</code></pre>
</div>

<p>这样你就成功引入了<code class="highlighter-rouge">head</code>，<code class="highlighter-rouge">header</code>，<code class="highlighter-rouge">main</code>，<code class="highlighter-rouge">script</code>，<code class="highlighter-rouge">footer</code>。然后编辑刚刚新建的<code class="highlighter-rouge">pageName.html</code>即可添加自定义<code class="highlighter-rouge">html</code>。</p>

<blockquote>
  <p>你新增的页面将以<code class="highlighter-rouge">_config.yml</code>文件中的 <code class="highlighter-rouge">default-color</code> 作为主题色。如果你知道你在干什么，你也可以编辑<code class="highlighter-rouge">header</code>和<code class="highlighter-rouge">footer</code>。</p>
</blockquote>

<h3 id="友情链接">友情链接</h3>

<p>友情链接在<code class="highlighter-rouge">_data/links.yml</code>中，要删除或新增，请遵循如下格式：</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">Halyul</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">images/links/halyul.png</span>
  <span class="s">url</span><span class="pi">:</span> <span class="s">https://halyul.com/</span>
  <span class="s">describe</span><span class="pi">:</span> <span class="s">Material Design爱好者</span>
</code></pre>
</div>

<h3 id="myherfs">myherfs</h3>

<p>footer的各种站点URL,请按如下格式填写至<code class="highlighter-rouge">_data/myherfs.yml</code>的url即可，！请勿更改name！：</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="c1"># 请不要填写太多否则会很丑。</span>
<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">twitter</span>
  <span class="s">url</span><span class="pi">:</span> <span class="s">https://twitter.com/yrmkejun</span>

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">facebook</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">weibo</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">instagram</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">tumblr</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">github</span>
  <span class="s">url</span><span class="pi">:</span> <span class="s">https://github.com/KeJunMao</span>

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">linkedin</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">zhihu</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">bilibili</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">telegram</span>
  <span class="s">url</span><span class="pi">:</span> 

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">gplus</span>
  <span class="s">url</span><span class="pi">:</span>
</code></pre>
</div>

<p>若想要自定义顺序，你可以调整他们的整体顺序。</p>

<h3 id="manyauthors">manyAuthors</h3>

<p>当启用多作者 <code class="highlighter-rouge">manyAuthors: true</code> 后，您可以在文章yaml处指定作者，为了避免重复指定头像url，您必须在<code class="highlighter-rouge">_data/authors.yml</code>按如下格式设置：</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code>
<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">Jekyll</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">assets/images/links/jianyuyouhun.jpg</span>

<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">Other</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s">assets/images/links/halyul.png</span>

</code></pre>
</div>

<h2 id="注意1">注意1</h2>

<p>该主题引用的<code class="highlighter-rouge">gallery.min.opt.js</code>及<code class="highlighter-rouge">gallery-materialize.min.opt.css</code>文件并没有经过原开发者同意。若侵权，请告知并删除。</p>

<p>你可以在<code class="highlighter-rouge">main.js</code>中自定义首页文章的GalleryExpand效果：</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>inDuration</td>
      <td>Transition duration for opening the gallery in ms. Default: 300</td>
    </tr>
    <tr>
      <td>outDuration</td>
      <td>Transition duration for closing the gallery in ms. Default: 200</td>
    </tr>
    <tr>
      <td>responsiveThreshold</td>
      <td>Breakpoint for full width style in pixels. Default: 992</td>
    </tr>
    <tr>
      <td>contentPadding</td>
      <td>Padding for content in the gallery in pixels. Default: 40</td>
    </tr>
    <tr>
      <td>onShow</td>
      <td>Callback function that is fired when the gallery is opened.</td>
    </tr>
    <tr>
      <td>defaultColor</td>
      <td>Fallback color for when color thief fails. Default: ‘#444’</td>
    </tr>
    <tr>
      <td>fillScreen</td>
      <td>Enable the full width image transition style. Default: false</td>
    </tr>
  </tbody>
</table>

<h2 id="注意2">注意2</h2>

<p>目前，绝大多数本地url添加了前置<code class="highlighter-rouge">baseurl</code>，如果造成了无法引入的问题，请提出：<a class="github-button" href="https://github.com/KeJunMao/jekyll-theme-materialize/issues">Issue</a></p>

<h2 id="todo">TODO</h2>

<ul>
  <li>disqus     # 完成</li>
  <li>toc        # 完成</li>
  <li>图像加载动画 # 完成</li>
  <li>搜索        # 完成</li>
  <li>二次元化选项</li>
  <li>cdn 支持    # 完成</li>
  <li>统计        # 完成</li>
  <li>分享</li>
  <li>显示作者     #完成</li>
  <li>post layout images点击放大出现的位置错误</li>
  <li>home 和 archive 文章图片使用图床时的跨域问题（因为使用javascript优化了加载）</li>
  <li>不依赖ruby gems的i18n</li>
  <li>homepage,请看<a href="https://kejun.space/">demo</a></li>
  <li>配合homepage ，传入友链和links,当博客更新时，homepage也可以更新。请看<a href="https://kejun.space/#other">demo</a></li>
</ul>

<h2 id="license">License</h2>

<p>The theme is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
