---
layout: post
title: 'Bash: SSH - avoiding ''REMOTE HOST IDENTIFICATION HAS CHANGED!'' error'
date: '2014-10-30T14:07:00.002+03:00'
author: Daemonic
tags:
- bash
modified_time: '2014-11-28T17:30:41.468+03:00'
blogger_id: tag:blogger.com,1999:blog-2174521382944768960.post-4118710615279099938
blogger_orig_url: http://my-irregularity.blogspot.com/2014/10/ssh-how-to-avoid-remote-host.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: left;"><span style="font-family: Verdana, sans-serif;">If you use SSH for remote hosts management there may be the following scenario: your cloud provider gives you nodes with SSH access, you do something with them and then they removed.</span></div><div style="text-align: left;"><span style="font-family: Verdana, sans-serif;">Most probably provider have limited pool of IP addresses and reuse them. So there may be case when you connect to newly created remote host, but its IP address was used early with other host which you connected to. In this case you will see exception like:</span></div><div style="text-align: left;"><span style="font-family: Verdana, sans-serif;"><br /></span></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;"><span style="background-color: white;">WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</span><br style="background-color: white;" /><span style="background-color: white;">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span></span></div><div style="text-align: left;"><span style="background-color: white; font-size: x-small;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><span style="font-family: Verdana, sans-serif;">The root cause is obvious - SSH stored public key for this host earlier and now tries to reuse it with new host.</span></div><div style="text-align: left;"><span style="font-family: Verdana, sans-serif;">How to avoid that? Just add</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;">Host *</span></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; StrictHostKeyChecking no</span></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; UserKnownHostsFile=/dev/null</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Verdana, sans-serif;">into your ~/.ssh/config file. This will disable strict host key check for all the hosts. If you prefer to disable specified subnet only (200.200.* in an example), specify it like that:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><br /><div><span style="font-family: Courier New, Courier, monospace;">Host 200.200.*</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; StrictHostKeyChecking no</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; UserKnownHostsFile=/dev/null</span></div></div></div>